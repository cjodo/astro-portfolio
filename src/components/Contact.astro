---
// 3. Replace 'your-form-id' with your actual Formspree form ID

const formAction = "https://formspree.io/f/mqebwbnv"; // Replace with your Formspree form ID
---

<section id="contact" class="py-20 bg-gray-50">
  <div class="max-w-4xl mx-auto px-6">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold mb-4 text-gray-900">Get In Touch</h2>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">
        Have a project in mind or want to collaborate? I'd love to hear from you. Send me a message and I'll get back to you as soon as possible.
      </p>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-8 md:p-10">
      <form 
        id="contact-form"
        class="space-y-6"
        method="POST"
        action={formAction}
      >
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
              Name *
            </label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
              placeholder="John Doe"
            />
          </div>
          
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email *
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
              placeholder="john@example.com"
            />
          </div>
        </div>

        <div>
          <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">
            Subject
          </label>
          <input
            type="text"
            id="subject"
            name="subject"
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
            placeholder="Subject"
          />
        </div>

        <div>
          <label for="message" class="block text-sm font-medium text-gray-700 mb-2">
            Message *
          </label>
          <textarea
            id="message"
            name="message"
            required
            rows="5"
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200 resize-none"
            placeholder="Message..."
          ></textarea>
        </div>

        <div class="flex items-center justify-between">
          <p class="text-sm text-gray-500">
            <span class="text-red-500">*</span> Required fields
          </p>
          
          <button
            type="submit"
            class="px-8 py-3 bg-gray-900 text-white font-medium rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 transform hover:scale-105 active:scale-95"
          >
            Send Message
          </button>
        </div>
      </form>

      <!-- Success and error messages (hidden by default) -->
      <div id="form-success" class="hidden mt-6 p-4 bg-green-50 border border-green-200 rounded-md">
        <p class="text-green-800 font-medium">✓ Thank you for your message! I'll get back to you soon.</p>
      </div>
      
      <div id="form-error" class="hidden mt-6 p-4 bg-red-50 border border-red-200 rounded-md">
        <p class="text-red-800 font-medium">✗ Oops! Something went wrong. Please try again later.</p>
      </div>
    </div>

    <!-- Alternative contact methods -->
    <div class="mt-12 text-center">
      <p class="text-gray-600 mb-4">Or reach out directly:</p>
      <div class="flex justify-center gap-6">
        <a 
          href="mailto:cjododev@gmail.com" 
          class="text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
        >
					cjododev@gmail.com
        </a>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var form = document.getElementById('contact-form');
    var successMessage = document.getElementById('form-success');
    var errorMessage = document.getElementById('form-error');
    var submitButton = form ? form.querySelector('button[type="submit"]') : null;

    if (!form || !submitButton) return;

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Hide any existing messages
      if (successMessage) successMessage.classList.add('hidden');
      if (errorMessage) errorMessage.classList.add('hidden');
      
      // Disable submit button and show loading state
      var originalText = submitButton.textContent || 'Send Message';
      submitButton.disabled = true;
      submitButton.textContent = 'Sending...';
      
      try {
        var formData = new FormData(form);
        var response = await fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        
        if (response.ok) {
          // Show success message
          if (successMessage) successMessage.classList.remove('hidden');
          form.reset();
        } else {
          // Show error message
          if (errorMessage) errorMessage.classList.remove('hidden');
        }
      } catch (error) {
        // Show error message for network issues
        if (errorMessage) errorMessage.classList.remove('hidden');
      } finally {
        // Reset button state
        submitButton.disabled = false;
        submitButton.textContent = originalText;
      }
    });
  });
</script>
