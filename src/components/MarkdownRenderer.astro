---
interface Props {
	content: string;
}

const { content } = Astro.props;

// Simple markdown parser
const processedContent = content
	// Headers
	.replace(/^### (.*$)/gm, '<h3 class="text-2xl font-bold mb-3 mt-6 text-gray-900 dark:text-gray-100">$1</h3>')
	.replace(/^## (.*$)/gm, '<h2 class="text-3xl font-bold mb-4 mt-8 text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2">$1</h2>')
	.replace(/^# (.*$)/gm, '<h1 class="text-4xl font-bold mb-6 mt-8 text-gray-900 dark:text-gray-100">$1</h1>')
	
	// Bold and italic
	.replace(/\*\*(.*?)\*\*/g, '<strong class="font-bold text-gray-900 dark:text-gray-100">$1</strong>')
	.replace(/\*(.*?)\*/g, '<em class="italic text-gray-800 dark:text-gray-200">$1</em>')
	
	// Links
	.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline decoration-2 underline-offset-2 transition-colors" target="_blank">$1</a>')
	
	// Inline code
	.replace(/`([^`]+)`/g, '<code class="bg-gray-100 dark:bg-gray-800 text-pink-600 dark:text-pink-400 px-2 py-1 rounded-md text-sm font-mono">$1</code>')
	
	// Code blocks
	.replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre class="bg-gray-900 dark:bg-black text-gray-100 p-4 rounded-lg overflow-x-auto mb-6 border border-gray-700"><code class="bg-transparent text-inherit p-0 font-mono text-sm">$2</code></pre>')
	
	// Blockquotes
	.replace(/^> (.*)$/gm, '<blockquote class="border-l-4 border-blue-500 dark:border-blue-400 pl-6 my-6 italic text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 py-4 rounded-r">$1</blockquote>')
	
	// Lists
	.replace(/^\* (.*)$/gm, '<li class="ml-6 mb-2">â€¢ $1</li>')
	.replace(/^\d+\. (.*)$/gm, '<li class="ml-6 mb-2 list-decimal">$1</li>')
	
	// Line breaks and paragraphs
	.replace(/\n\n/g, '</p><p class="mb-6 leading-relaxed">')
	.replace(/^(?!(?:<h|<li|<blockquote|<pre|<p))(.*)$/gm, '<p class="mb-6 leading-relaxed">$1</p>')
	.replace(/<p class="mb-6 leading-relaxed"><\//g, '</p><p class="mb-6 leading-relaxed">');
---

<!-- Custom Markdown Renderer with Tailwind CSS -->
<div class="prose-container max-w-none text-gray-800 dark:text-gray-200 leading-relaxed">
	<div set:html={processedContent} />
</div>