---
---
<button
  id="theme-toggle"
  class="relative w-6 h-6 flex items-center justify-center rounded-lg transition-all duration-300 p-1 cursor-pointer"
  aria-label="Toggle theme"
	title="Change color theme"
>
  <!-- Sun icon -->
  <svg
    id="sun-icon"
    class="w-4 h-4 transition-all duration-300"
    style="color: var(--text-primary)"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
    />
  </svg>

  <!-- Moon icon -->
  <svg
    id="moon-icon"
    class="w-4 h-4 transition-all duration-300 absolute"
    style="color: var(--text-primary)"
    fill="none"
    stroke="currentColor"
    viewBox="0 0 24 24"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
    />
  </svg>
</button>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const themeToggle = document.getElementById('theme-toggle');
  const html = document.documentElement;
  const sunIcon = document.getElementById('sun-icon');
  const moonIcon = document.getElementById('moon-icon');

  // Only allow theme toggle on blog pages
  const isBlogPage = window.location.pathname.startsWith('/blog');
  if (!isBlogPage) {
    html.classList.remove('dark');
    sunIcon.style.opacity = "1";
    sunIcon.style.transform = 'scale(1)';
    moonIcon.style.opacity = 0;
    moonIcon.style.transform = 'scale(0)';
    return;
  }

  // Set initial theme
  const currentTheme = localStorage.getItem('theme') || 'light';
  if (currentTheme === 'dark') {
    html.classList.add('dark');
    sunIcon.style.opacity = 0;
    sunIcon.style.transform = 'scale(0)';
    moonIcon.style.opacity = 1;
    moonIcon.style.transform = 'scale(1)';
  } else {
    sunIcon.style.opacity = 1;
    sunIcon.style.transform = 'scale(1)';
    moonIcon.style.opacity = 0;
    moonIcon.style.transform = 'scale(0)';
  }

  themeToggle.addEventListener('click', () => {
    html.classList.toggle('dark');
    const isDark = html.classList.contains('dark');

    // Save preference
    localStorage.setItem('theme', isDark ? 'dark' : 'light');

    // Animate icons
    if (isDark) {
      sunIcon.style.opacity = 0;
      sunIcon.style.transform = 'scale(0)';
      moonIcon.style.opacity = 1;
      moonIcon.style.transform = 'scale(1)';
    } else {
      sunIcon.style.opacity = 1;
      sunIcon.style.transform = 'scale(1)';
      moonIcon.style.opacity = 0;
      moonIcon.style.transform = 'scale(0)';
    }
  });
});
</script>

